# KCL Project Bible (프로젝트 바이블)

> 이 문서는 **KCL (Kpop Company League)** 프로젝트의 모든 기본 지식, 설계 원칙, 화면 구조를 담은 **단일 진실의 원천(Single Source of Truth)**입니다.
>
> **One-Liner**: "전 세계 팬덤의 화력을 증명하는 실시간 소속사 대항전."

---

## 1. 프로젝트 정체성 (Identity)

### 핵심 가치

주식 시장의 차가운 숫자가 아닌, **뜨거운 '응원(Cheer)'과 '화력(Firepower)'**을 시각화합니다.
팬들은 회사가 아닌 **"내 가수(Artist)"**를 위해 투표하며, 그 결과로 소속사의 순위가 바뀝니다.

### 타겟 페르소나

- **Who**: 아이돌 성적에 민감한 1020 '스밍 총대' 및 코어 팬덤
- **심리적 트리거**:
  1. **자존심**: "우리 팬덤 화력이 이것밖에?"
  2. **책임감**: "내가 클릭을 멈추면 순위가 떨어진다"
  3. **소속감**: "커피차 보내서 대장임을 인증하고 싶다"

---

## 2. 핵심 컨셉 (Core Concepts)

| 용어                              | 설명                                                          |
| --------------------------------- | ------------------------------------------------------------- |
| **화력 지수 (Firepower Score)**   | 클릭 = 투표 = 화력. 유저의 모든 클릭이 곧 화력이 됩니다.      |
| **아티스트 매핑 (Artist-Driven)** | 팬덤은 '회사'가 아닌 '내 가수'를 위해 투표함. (BTS → HYBE)    |
| **총공 (All-out Attack)**         | 팬덤이 집단으로 클릭을 몰아치는 이벤트. 순위가 뒤집히는 순간. |
| **서포터즈 (Supporters)**         | 참여 유저. 익명이지만 팬덤의 일원.                            |
| **리그 시스템 (League)**          | 1부(Royal), 2부(Major), 3부(Minor). 하위권은 시각적 패널티.   |

---

## 3. 화면 단위 설계 (Screen Design)

### 3.1. 홈 화면 (통합 대시보드)

> **핵심 철학**: "투표와 순위 확인이 한 곳에서 이루어지는 단일 페이지"

#### 레이아웃

- **Mobile**:
  - **Header**: 로고 + Sticky Search Bar (아티스트/소속사 통합 검색)
  - **Body**: 전체 랭킹 리스트. 각 아이템 우측에 `>` (상세 이동) 버튼.
  - **Interact**: 리스트 본문 터치 시 → [Bottom Sheet] 오픈 (투표 모드)
- **PC (Dual-Pane)**:
  - **좌측 (60~70%)**: 검색바 + 랭킹 리스트
  - **우측 (30~40%)**: Sticky Panel - 선택된 회사의 투표 컨트롤러 항시 노출
  - **반응형**: 화면 축소 시 우측 패널 숨김 → Bottom Sheet 모드로 전환

#### 랭킹 리스트 아이템 구조

```
[순위] [로고] [회사명]                    [화력 점수]  [>]
              Key: BTS, NewJeans, Seventeen +1
```

- **Main Body 클릭**: 투표 패널(Sheet/Panel) 오픈
- **우측 `>` 클릭**: `/company/{id}` 상세 페이지 이동

### 3.2. 투표 패널 (Bottom Sheet / Sticky Panel)

> **핵심**: 아티스트 선택 후 투표하는 '응원 지휘소'

#### 구성 요소

1. **상단**: 선택된 소속사 로고, 현재 화력 점수, 순위
2. **중단**: "누구의 팬이신가요?" 질문 + 소속 아티스트 **[Chips]** 가로 스크롤
3. **하단**: 초대형 **[투표 버튼]** (하트/불꽃 아이콘)

#### 인터랙션

- **검색 진입**: 아티스트 검색 후 진입 시, 해당 아티스트 칩이 자동 선택됨 ("For BTS")
- **리스트 클릭 진입**: 아티스트 미선택 상태. 칩 중 하나를 선택하도록 유도.
- **투표 클릭**: 파티클 이펙트 + 숫자 팝업 (+1, +10...) 연출

### 3.3. 회사 상세 페이지 (`/company/{id}`)

- **Header**: 회사 로고, 이름, 현재 순위/리그
- **Stats**: 총 득표수, 오늘 득표수, 전일 대비 변동
- **Artists**: 소속 아티스트 그리드 (누르면 해당 아티스트로 투표 모드)
- **Comments**: 응원 댓글창 (익명 기반)
- **Action**: 투표 버튼 (상세 페이지에서도 가능)

### 3.4. 통계/분석 페이지 (`/ranking` → `/analytics`)

> 기존 랭킹 페이지를 **데이터 분석 전용**으로 전환

- **주간 화력 차트**: 상위 기업들의 득표 추이 (Line/Bar Chart)
- **마켓 쉐어**: 전체 화력 점유율 파이 차트
- **Hot 5**: 지난 1시간 동안 가장 급상승한 회사
- **명예의 전당**: 지난 시즌(주간) 1위 기록 보존

---

## 4. 로드맵 (Roadmap)

### Phase 1: MVP - "The Spark" (불씨 점화) ⭐ **현재 단계**

> **목표**: 핵심 기능(투표, 순위) 구현 및 바이럴 테스트. **수익화보다 트래픽 확보 우선.**

**핵심 기능**:

- [ ] 통합 대시보드 (Integrated Dashboard)
- [ ] 소속사 검색 및 아티스트 매핑
- [ ] 12개 언어 다국어 지원 (시스템 구축 완료, 데이터 미비)
- [ ] Redis Batching 연동 (실시간 순위 변동 연출)
- [ ] 클릭 시 파티클 애니메이션 (Firepower Effect)
- [ ] 광고 배너 탑재 (구글 애드센스)

**제외 (오버엔지니어링 방지)**:

- 회원가입/로그인
- 결제 시스템
- 별도의 '랭킹 페이지' (대시보드로 통합)

---

### Phase 2: Monetization - "The Cash Flow" (수익화 시작)

> **목표**: 트래픽 확인 후 **결제 모듈**과 **광고**로 서버비 충당 및 수익 창출

**핵심 기능**:

- 리워드 광고 (부스터 게이지 충전)
- 결제 연동 (PortOne PG사)
- 아이템 상점:
  - **긴급 총공** ($1.99): 5분간 개인 클릭 화력 10배
- 결제 유저 대상 로그인 (Supabase Auth)
- 메뉴 확장: 프로필, 만들기, 서포트

---

### Phase 3: Social & Viral - "The Expansion" (확산)

> **목표**: 유저 간 상호작용 강화, **고액 결제(Whale)** 유도

**핵심 기능**:

- **커피차 조공** ($9.99): 전 서버 알림 + 해당 소속사 전체 버프
- **이미지 방어권** ($29.99): 30분간 순위 하락 방지
- 실시간 전광판: "OOO님이 커피차를 보냈습니다!"
- 소속사별 응원 댓글창 (게시판 형태)

---

### Phase 4: Gamification - "The Retention" (장기 집권)

> **목표**: 단순 반복 지루함 해소, **시즌제**로 리텐션 유지

**핵심 기능**:

- **리그 시스템**:
  - 1부 Royal League (1~3위): 금색/왕관/스포트라이트
  - 2부 Major League (4~10위): 은색/세련된 테두리
  - 3부 Minor League (11위~): 채도 감소/어두운 배경
- **시즌 리셋**: 매주 일요일 자정 순위 초기화
- **명예의 전당**: 우승 소속사 기록 보존
- 득표 추이 그래프 (Recharts)

---

### Phase 5: Automation - "The Empire" (완전 자동화)

> **목표**: 운영 개입 최소화 및 B2B 수익 모델 확장

**핵심 기능**:

- 관리자 대시보드 (결제 모니터링, 어뷰징 차단)
- B2B 광고 슬롯 (우승 팀 배너 입찰/구매)
- 자동 콘텐츠 크롤러 (뉴스/트윗)

---

## 5. 수익 모델 (Monetization)

### 5.1. 광고 수익

- **구글 애드센스**: 홈 화면 상단/하단 배너
- **리워드 광고**: 광고 시청 시 투표 부스터 게이지 충전

### 5.2. 유료 아이템

| 아이템            | 가격     | 효과                                  |
| ----------------- | -------- | ------------------------------------- |
| **긴급 총공**     | $1.99    | 5분간 개인 클릭 화력 10배             |
| **커피차 조공**   | $9.99    | 전 서버 알림 + 해당 소속사 1시간 버프 |
| **이미지 방어권** | $29.99   | 30분간 순위 하락 방지 (1위 유지)      |
| **VIP 뱃지**      | $4.99/월 | 댓글 강조, 투표 시 특수 이펙트        |

### 5.3. 결제 연동 (Phase 2)

- **PG사**: PortOne (구 아임포트)
- **지원 결제수단**: 신용카드, 카카오페이, 네이버페이, PayPal (해외)
- **기술**: Supabase Edge Functions 또는 별도 API 서버

---

## 6. 인프라 & 아키텍처 (Infrastructure)

### 6.1. 기술 스택

| 영역          | 기술                                                     |
| ------------- | -------------------------------------------------------- |
| **Frontend**  | Next.js 16.x (App Router), TypeScript, SCSS              |
| **Backend**   | Supabase (PostgreSQL, Auth, Storage)                     |
| **Cache**     | Upstash Redis (Batching)                                 |
| **Hosting**   | GitHub Pages (Prototype) → Cloudflare Pages (Production) |
| **Animation** | Framer Motion                                            |
| **Chart**     | Recharts                                                 |
| **i18n**      | next-intl (12개 언어)                                    |

### 6.2. 비용 최적화 전략

| 전략                  | 효과                                                        |
| --------------------- | ----------------------------------------------------------- |
| **Redis Batching**    | 클릭 100개를 모아서 DB에 1번만 저장. DB 쓰기 비용 99% 절감. |
| **Cloudflare Pages**  | 대역폭 무제한 무료. 정적 사이트 호스팅 최적.                |
| **Supabase Free/Pro** | Free: 개발/테스트. Pro($25/월): 운영.                       |
| **Edge Functions**    | 서버리스로 결제 API만 필요할 때 실행.                       |

### 6.3. 월 운영 비용 예측

| 트래픽 단계    | DAU        | 월 비용            | 예상 수익 (보수적) | 이익     |
| -------------- | ---------- | ------------------ | ------------------ | -------- |
| **MVP (현재)** | ~1,000명   | **$0** (Free Tier) | $10~$50            | +$10     |
| **성장기**     | ~10,000명  | **$45**            | $1,500~$3,000      | +$1,455  |
| **대박**       | ~100,000명 | **$150**           | $20,000+           | +$19,850 |

> **손익분기점(BEP)**: 월 **$45 (약 6만 원)**
> 커피차($9.99) 하루 5개만 팔려도 서버비 전액 충당

---

## 7. UI/UX 디자인 가이드 (Design System)

### 7.1. 컬러 팔레트

| 용도                  | 컬러               | Hex       |
| --------------------- | ------------------ | --------- |
| **Primary (불꽃)**    | Hot Pink / Magenta | `#FF1493` |
| **Secondary (골드)**  | Champion Gold      | `#FFD700` |
| **Background (Dark)** | Deep Space         | `#0D0D0D` |
| **Surface (Card)**    | Charcoal           | `#1A1A2E` |
| **Text (Primary)**    | Pure White         | `#FFFFFF` |
| **Text (Secondary)**  | Soft Gray          | `#A0A0A0` |
| **Accent (1부 리그)** | Royal Gold         | `#FFD700` |
| **Accent (2부 리그)** | Silver             | `#C0C0C0` |
| **Accent (3부 리그)** | Dim Gray           | `#4A4A4A` |

**금지 컬러**: 주식 차트 색상 (Green/Red)은 절대 사용 금지. 이 앱은 '투자'가 아닌 '응원'입니다.

### 7.2. 타이포그래피

- **Primary Font**: `Pretendard` (한글/영문 겸용, 현대적, 가독성)
- **Accent Font**: `Outfit` 또는 `Montserrat` (숫자, 헤드라인)
- **Size Scale**: 12 / 14 / 16 / 20 / 24 / 32 / 48px

### 7.3. 애니메이션 원칙

| 상황              | 효과                                               | 라이브러리                        |
| ----------------- | -------------------------------------------------- | --------------------------------- |
| **투표 클릭**     | 하트(♥)/불꽃 파티클이 폭죽처럼 터짐               | Framer Motion + Canvas            |
| **순위 변동**     | 리스트 항목이 부드럽게 위아래로 이동 (Re-ordering) | Framer Motion (`AnimatePresence`) |
| **검색 포커싱**   | 해당 항목 배경에 네온/골드 글로우 효과             | CSS Animation                     |
| **보텀시트 오픈** | 밑에서 위로 스프링 효과로 튀어 오름                | Framer Motion (`spring`)          |

### 7.4. 반응형 전략

| 디바이스    | Breakpoint | 특징                                       |
| ----------- | ---------- | ------------------------------------------ |
| **Mobile**  | ~768px     | Bottom Sheet, 1열 리스트, 하단 네비게이션  |
| **Tablet**  | 768~1024px | Bottom Sheet 유지 또는 좌측 패널 등장      |
| **Desktop** | 1024px~    | 2단 분할 (리스트 + Sticky Panel), 사이드바 |

### 7.5. 아이콘 & 에셋

- **Icon Set**: Lucide React (일관된 스트로크, 라이트 무게)
- **Logo**: 텍스트 기반 로고 (법적 리스크 회피)
- **회사/아티스트 이미지**: UGC 정책 또는 공식 CI 대신 폰트 기반 이니셜

---

## 8. 법적 리스크 & 대응 전략

### 위험 요소

| 항목                    | 위험도  | 설명                            |
| ----------------------- | ------- | ------------------------------- |
| **상표권**              | 🔴 높음 | 공식 로고(CI) 무단 사용 시 침해 |
| **부정경쟁방지**        | 🟡 중간 | 공식 앱처럼 혼동 유발 시 문제   |
| **초상권/퍼블리시티권** | 🔴 최상 | 아티스트 사진 상업적 사용 금지  |

### 우회 전략

1. **Unofficial 뱃지**: "팬들이 만든 비공식 팬 앱" 문구 명시
2. **텍스트 로고**: 공식 CI 대신 폰트 기반 로고 사용
3. **UGC 정책**: 이미지는 유저가 직접 업로드하게 유도
4. **즉시 삭제 정책**: 소속사 요청 시 즉시 대응

---

## 9. 마케팅 전략

### Phase 1 (MVP)

- **X(트위터) 해시태그**: "#KCL화력전쟁", "#우리화력보여주자"
- **팬덤 커뮤니티 침투**: DC인사이드, 팬덤 디스코드, 레딧 K-pop 서브
- **바이럴 포인트**: "우리 회사가 몇 위인지 실시간으로 확인하세요!"

### Phase 2 (수익화 후)

- **인플루언서 협업**: K-pop 유튜버/트위터리안에게 '커피차 쏘기' 이벤트 제안
- **시즌 우승 이벤트**: "이번 주 1위 팬덤에게 굿즈 증정"

### Phase 3+ (글로벌)

- **국가별 대항전**: "한국 vs 인도네시아 화력 대결" 콘텐츠
- **K-pop 미디어 협업**: allkpop, Soompi 등에 데이터 제공/기사화

---

## 10. 관련 문서

| 문서                     | 경로                                  | 설명                          |
| ------------------------ | ------------------------------------- | ----------------------------- |
| **기본 설계 문서 (PRD)** | `.claude/planning/prd.md`             | 구체적인 스펙/기능 정의       |
| **작업지시서 (Tasks)**   | `.claude/planning/tasks.md`           | 실행 가능한 태스크 목록       |
| **DB 스키마**            | `doc/project/kcl/schema.md`           | ERD 및 테이블 명세 (예정)     |
| **결제 시스템 가이드**   | `doc/project/kcl/payment_strategy.md` | 사업자 등록 및 결제 도입 전략 |
| **AI 에이전트 가이드**   | `CLAUDE.md`                           | 개발 시 참조할 기술 가이드    |

---

**마지막 업데이트**: 2026-01-12
**현재 단계**: Phase 1 (MVP) - 통합 대시보드 기획 확정, 개발 대기 중
