# [Step 7: 인스타그램 벤치마킹 - 인증 시스템 및 글로벌 UI 개편]

## 1. 목표 (Goal)

인스타그램(Instagram)의 **견고한 UI 구조(Structure)**와 **사용자 경험(UX)**을 철저히 벤치마킹하되, KCL만의 **Dark & Neon 아이덴티티**를 입혀, 전문적이고 몰입감 높은 웹 애플리케이션으로 재탄생시킵니다.
특히 **좌측 사이드바(Sidebar) 기반의 데스크탑 레이아웃**과 **2단 분할(Split) 인증 화면**을 구현하여 모바일과 데스크탑 사용자 모두를 만족시킵니다.

---

## 2. 상세 구현 사양 (Detailed Specifications)

### [Task 1] 글로벌 반응형 레이아웃 (Layout Architecture)

기존의 상단/하단 내비게이션 구조를 환경에 따라 완전히 분리된 UX로 제공합니다.

1.  **데스크탑 (Viewport >= 768px)**: **Side Navigation**
    - **구조**: 좌측 고정 사이드바 (`position: fixed`, `height: 100vh`).
    - **너비 (Width)**:
      - **Narrow (Tablet)**: `72px` (아이콘만 표시).
      - **Wide (Desktop >= 1264px)**: `244px` (아이콘 + 텍스트 라벨).
      - _Transition_: 너비 변경 시 부드러운 `cubic-bezier` 애니메이션 적용.
    - **메인 콘텐츠 (Main Content)**:
      - `margin-left`: 사이드바 너비만큼 자동 조정 (`72px` or `244px`).
      - `max-width`: `935px` (인스타그램 표준 피드 너비)로 중앙 정렬.
      - `margin-right`: `auto`.
    - **디자인**: 유리 질감(Glassmorphism) 배경 + 네온 엑센트 보더.

2.  **모바일 (Viewport < 768px)**: **Bottom Navigation**
    - 기존 `BottomNav` 컴포넌트 유지 및 디자인 고도화.
    - 헤더: 스크롤 시 상단에 붙는 `Sticky Header` (로고 + 알림).

---

### [Task 2] 인증 페이지 (Login & Signup) - Split Layout

인스타그램 웹 로그인 화면(`instagram.com`)의 구조를 1:1로 벤치마킹합니다.

1.  **레이아웃 구조 (`page.module.scss`)**
    - **컨테이너**: `display: flex`, `justify-content: center`, `align-items: center`, `min-height: 100vh`.
    - **갭 (Gap)**: 좌우 패널 사이 `32px`.

2.  **Left Panel (Visual Content)**
    - **표시 조건**: `display: none` (Mobile) -> `display: block` (Desktop >= 876px).
    - **크기**: `width: 380px`, `height: 580px` (인스타그램 폰 목업 사이즈 참조).
    - **콘텐츠**: 기존 홈 화면의 **3D Company Carousel**을 이곳으로 옮겨, KCL의 핵심 가치(팬덤 경쟁)를 시각적으로 전달. 자동으로 회전하며 화려한 비주얼 제공.

3.  **Right Panel (Auth Form)**
    - **크기**: `width: 350px` (고정).
    - **Main Box**:
      - 상단: KCL 텍스트 로고 (Gradient Color).
      - 중단: 이메일/비밀번호 입력 폼 (`Floating Label` 스타일).
      - 하단: 로그인 버튼 (`width: 100%`, `height: 44px`, `border-radius: 8px`).
      - 구분선: "또는 (OR)" 텍스트와 라인.
      - 소셜: "Google로 로그인" (아이콘 + 텍스트).
    - **Sub Box (Floating)**: Main Box 하단에 별도 카드로 분리.
      - "계정이 없으신가요? **가입하기**" (Link).
    - **디자인**:
      - `border: 1px solid rgba(255, 255, 255, 0.15)` (Subtle Border).
      - `background: rgba(20, 20, 20, 0.6)` (Semi-transparent).

---

### [Task 3] 내비게이션 항목 및 아이콘 (Iconography)

인스타그램의 직관적인 아이콘 시스템을 KCL 맥락에 맞게 재해석합니다. (`lucide-react` 사용)

| 순서  | 항목 (Label)           | 아이콘 (Icon)   | 링크 (HREF)  | 비고                   |
| :---- | :--------------------- | :-------------- | :----------- | :--------------------- |
| **1** | **KCL**                | (Text Logo)     | `/`          | 상단 로고 영역         |
| **2** | **홈 (Home)**          | `Home`          | `/`          |                        |
| **3** | **랭킹 (Ranking)**     | `Trophy`        | `/ranking`   | 인스타의 '탐색' 대응   |
| **4** | **게시판 (Community)** | `MessageSquare` | `/community` | 인스타의 '메시지' 대응 |
| **5** | **만들기 (Vote)**      | `PlusSquare`    | (Modal)      | 투표/지지하기 모달     |
| **6** | **프로필 (My)**        | `UserCircle`    | `/profile`   | 로그인 전: 로그인 유도 |

---

## 3. 기술 스택 및 라이브러리 (Tech Stack)

1.  **Form Handling**: `react-hook-form` + `zod`
    - 유효성 검사 (이메일 형식을 갖췄는가? 비밀번호가 6자리 이상인가?)를 실시간으로 처리.
2.  **Animation**: `framer-motion`
    - 사이드바 확장/축소 애니메이션.
    - 페이지 전환 시 Fade In/Out.
3.  **Authentication**: `Supabase Auth (SSR)`
    - `@supabase/ssr` 패키지 활용.
    - Middleware를 통한 Protected Route 처리 (프로필 페이지 접근 시 리다이렉트).

---

## 4. 파일 작업 목록 (File Checklist)

### 1단계: 레이아웃 시스템 구체화

- [ ] `packages/kcl/src/components/layout/Sidebar/index.tsx` (데스크탑용 사이드바)
- [ ] `packages/kcl/src/components/layout/BottomNav/index.tsx` (모바일용 - 기존 고도화)
- [ ] `packages/kcl/src/components/layout/AppShell/index.tsx` (반응형 분기 처리 핵심 로직)
- [ ] `packages/kcl/src/components/layout/AppShell/AppShell.module.scss` (미디어 쿼리 정의)

### 2단계: 인증 페이지 구현

- [ ] `packages/kcl/src/app/[locale]/login/page.tsx`
- [ ] `packages/kcl/src/app/[locale]/signup/page.tsx`
- [ ] `packages/kcl/src/components/features/auth/AuthLayout/index.tsx` (Split Layout 공통 래퍼)
- [ ] `packages/kcl/src/components/features/auth/LoginForm/index.tsx`
- [ ] `packages/kcl/src/components/features/auth/SignupForm/index.tsx`

### 3단계: Supabase 연동

- [ ] `packages/kcl/src/lib/supabase/client.ts`
- [ ] `packages/kcl/src/lib/supabase/server.ts`
- [ ] `packages/kcl/src/middleware.ts` (Auth Guard)

---

## 5. 마스터 프롬프트 (AI 실행용)

```markdown
# 1. 목표 (Objective)

인스타그램(Instagram) 웹 버전을 철저하게 벤치마킹하여, **반응형 사이드바 레이아웃**과 **2단 분할(Split) 인증 페이지**를 구현하십시오.
단, 디자인 스타일은 KCL 고유의 **Dark Neon & Glassmorphism**을 유지해야 합니다.

# 2. 핵심 구현 지침 (Key Instructions)

### A. Layout System (Benchmarking Instagram)

1.  **Sidebar (Desktop)**:
    - `≥ 768px`: 너비 `72px`의 아이콘 전용 바.
    - `≥ 1264px`: 너비 `244px`로 확장되며 텍스트 라벨 표시.
    - `position: fixed`로 좌측 고정.
2.  **Main Content**:
    - 사이드바 너비에 맞춰 `margin-left`를 동적으로 조정 (CSS Variable 또는 Class 활용).
    - 콘텐츠 최대 너비는 `935px`로 제한하고 `margin: 0 auto`로 중앙 정렬.

### B. Auth Pages (/login)

1.  **Desktop View**:
    - **Left**: `380x580px` 크기의 비주얼 영역. `3D Company Carousel` 컴포넌트를 여기에 배치하여 회전 효과 제공.
    - **Right**: `350px` 너비의 로그인 폼.
    - 두 영역은 `Flexbox`로 중앙 정렬.
2.  **Mobile View**:
    - Left 비주얼 영역 숨김 (`display: none`).
    - Right 폼만 중앙에 표시 (`width: 100%`, `max-width: 350px`).

### C. Validation

- `react-hook-form`과 `zod`를 사용하여 이메일 및 비밀번호 유효성 검사를 수행하십시오.
- 입력 필드는 인스타그램처럼 **Floating Label** (입력 시 라벨이 상단으로 작게 이동) 스타일을 적용하십시오.

# 3. 우선순위

디자인의 **구조적 완성도(Layout Integrity)**를 최우선으로 하되, 애니메이션과 인터랙션은 부드럽게(Smooth) 처리하십시오.
```
