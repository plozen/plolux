# Kpop-Ent Ranker: Project Master Report (Revised)

## 1. 프로젝트 정의 및 정체성 (Identity)

### 1.1 서비스 개요

- **Project Name:** **Kpop Company League**
- **One-Liner:** "전 세계 팬덤의 화력을 증명하는 실시간 소속사 대항전."
- **Core Value:** 주식 시장의 차가운 숫자가 아닌, **뜨거운 '응원(Cheer)'과 '화력(Firepower)'**을 시각화합니다. "내가 쉬는 동안 우리 소속사가 밀리고 있다"는 위기감을 자극하여 끊임없는 접속을 유도합니다.

### 1.2 컨셉 피벗 (Concept Pivot)

- **From (주식 컨셉):** 주가(Price), 시가총액, 주주, 매수/매도.
- **To (팬덤 전쟁 컨셉):**
- 주가 → **"화력 지수 (Firepower Score)"**
- 매수 → **"총공 (All-out Attack)"** (클릭 행위)
- 주주 → **"서포터즈 (Supporters)"**
- 상장폐지/강등 → **"마이너 리그 강등 (Relegation)"**

- **Keyword:** **"왕좌를 지켜라 (Defend the Throne)"**

### 1.3 타겟 페르소나 (Target Persona)

- **Who:** 아이돌의 성적(음원 차트, 투표)에 민감한 1020 '스밍(스트리밍) 총대' 및 코어 팬덤.
- **Psychology (심리적 트리거):**

1. **자존심:** "우리 팬덤 화력이 이것밖에 안 돼? A사한테 밀리는 건 굴욕이다."
2. **책임감:** "내가 클릭을 멈추면 순위가 떨어진다."
3. **소속감:** "커피차(아이템)를 보내서 내가 이 구역의 대장임을 인증하고 싶다."

---

## 2. 수익화 모델: "조공 문화"의 시스템화 (Monetization)

팬덤 문화에는 이미 가수를 위해 돈을 모으는 '모금/조공' 문화가 정착되어 있습니다. 이를 시스템적으로 구현하여 자연스러운 결제를 유도합니다.

### 2.1 인앱 결제 아이템 (Support Items)

주식 용어를 배제하고, 실제 아이돌 서포트 용어로 아이템을 리브랜딩합니다.

- **Tier 1: Emergency Stream (긴급 총공) - $1.99**
- **Effect:** 5분간 개인 클릭 화력 **10배 (x10)**.
- **Context:** "순위 역전 직전! 지금 당장 화력이 필요해!"
- **Visual:** 클릭 시 일반 파티클 대신 불꽃(Fire) 이펙트 발생.

- **Tier 2: Coffee Truck (커피차 서포트) - $9.99 [CORE CASH COW]**
- **Effect:** 해당 소속사를 클릭하는 **'모든 유저'**에게 10분간 화력 **2배 (x2)** 버프.
- **Trigger:** 전체 서버에 _"OOO님이 [HYBE]에 커피차를 보냈습니다! 전원 화력 2배 상승!"_ 알림 송출.
- **Psychology:** 팬덤 내에서 '네임드'가 되고 싶은 과시 욕구 충족.

- **Tier 3: Image Defense (이미지 방어권) - $29.99**
- **Effect:** 30분간 순위 하락 방지 (방패 아이콘 활성화).
- **Target:** 1위를 굳히려는 최상위권 소속사 팬덤.

### 2.2 광고 수익 (Ad Revenue)

- **Fever Time (Reward Ads):** "손가락이 아프신가요? 광고 보고 3분간 '응원봉 모드(5배)'를 켜세요."
- **Display Ads:** 하단 고정 배너.

### 2.3 디지털 굿즈 (Micro-transaction)

- **Custom Skin:** 기본 클릭 커서를 각 그룹의 공식 색상(Official Color)이나 응원봉 모양으로 변경 ($0.99).

---

## 3. UI/UX 디자인 전략: "올림픽 & 리그"

차가운 차트 대신, 스포츠 경기장이나 시상식 같은 뜨거운 분위기를 연출합니다.

### 3.1 리그 시스템 (The League Tier)

- **1부 리그 (Royal League):** 1~3위.
- **Design:** 금색/왕관 테두리, 화려한 스포트라이트 효과.
- **Benefit:** 메인 화면 최상단 노출.

- **2부 리그 (Major League):** 4~10위.
- **Design:** 은색/세련된 테두리. 기본 상태.

- **3부 리그 (Minor League):** 11위 이하.
- **Design:** **채도 감소(Desaturated)**, 배경이 어둡고 낡은 느낌.
- **Effect:** 팬들에게 "우리 가수가 마이너 취급을 받는다"는 시각적 충격을 주어 클릭 동기 부여.

### 3.2 인터랙션 & 정보 시각화

- **Ranking Board:** 주식 전광판이 아닌, **'올림픽 메달 집계'** 스타일의 리더보드.
- **Live Feed:** "지금 A사 팬덤이 무섭게 치고 올라옵니다! 격차 단 300표!" (스포츠 중계 톤).
- **Click Effect:** 클릭 시 하트(♥)와 응원봉 아이콘이 폭죽처럼 터지는 연출.

---

## 4. 기술 아키텍처: 비용 제로 & 무한 트래픽 (Optimization)

주식 컨셉이 빠져도 대규모 트래픽 처리를 위한 핵심 기술 구조는 동일합니다. **Cloudflare**와 **Redis**를 활용한 방어 전략을 유지합니다.

### 4.1 Tech Stack (PLOLUX Standard)

- **Frontend:** **Next.js 14 (App Router)** + **Tailwind CSS**.
- **Deployment:** **Cloudflare Pages**. (무제한 대역폭 무료).

- **Backend Logic:** **Cloudflare Workers**.
- **Role:** 클릭 수신, 아이템 로직 처리. (서버리스, 초저비용).

- **Database:** **Supabase (PostgreSQL)**.
- **Role:** 유저 정보, 결제 내역, 소속사 데이터 저장.

### 4.2 핵심 기술: Redis Batching (필수)

- **Problem:** 팬덤의 '총공' 시간대에는 초당 수만 번의 클릭이 발생합니다. DB에 직접 쓰면 서버가 다운됩니다.
- **Solution (Upstash Redis):**

1. **Collection:** 유저들의 클릭을 메모리(Redis)에 임시로 모음.
2. **Aggregation:** **10초마다** 모인 점수를 합산.
3. **Sync:** Supabase DB에 **한 번만** 업데이트 쿼리 전송.

- **Result:** 1,000만 클릭을 처리해도 실제 DB 비용은 거의 0에 수렴.

### 4.3 보안 (Security)

- **Macro Protection:** 단순히 클릭 속도만으로 차단하면 억울한 팬이 생길 수 있음.
- **Logic:** "1초에 20클릭 이상 지속 시 3초 쿨타임(Cool-down)" 적용.
- **Cloudflare WAF:** 해외 공격 IP 차단.

---

## 5. 법적 리스크 관리 (Legal Strategy)

주식 컨셉보다 오히려 더 안전할 수 있지만, 여전히 IP 문제는 조심해야 합니다.

### 5.1 비공식(Unofficial) 강조

- 앱 타이틀이나 로딩 화면에 **"For Fans, By Fans (팬들에 의한 비공식 팬리그)"** 문구를 명확히 합니다.
- 엔터사의 공식 앱으로 오인되지 않도록 디자인 톤을 너무 기업적으로(Corporate) 가지 않고, 커뮤니티스럽게(Community-like) 유지합니다.

### 5.2 로고 및 이미지 정책

- **Logo:** 공식 CI 대신, 텍스트(Typography) 로고 사용 권장.
- **Image:** 아티스트 사진 직접 사용 금지. (팬들이 올리는 UGC 배너나, 실루엣/아이콘으로 대체).

---

## 6. 단계별 실행 로드맵 (Execution Roadmap)

### Phase 1: MVP - "The Opening Game" (목표: D+7)

- **목표:** '클릭'과 '랭킹'의 재미 검증.
- **기능:**
- 소속사 선택 및 클릭(하트 이펙트).
- 실시간 리더보드 (1~100위).
- Redis Batching 연동 (서버비 방어).

- **마케팅:** X(트위터)의 각 팬덤 해시태그에 "우리 화력 보여주자"며 링크 배포.

### Phase 2: Monetization - "The Support Season" (목표: D+14)

- **목표:** 수익화 모듈 탑재.
- **기능:**
- 결제 연동 (PortOne).
- 아이템 상점 (커피차, 긴급 총공) 오픈.
- 광고 배너 탑재.

- **전략:** 특정 라이벌 구도(예: A그룹 vs B그룹)가 생겼을 때 아이템 홍보 집중.

### Phase 3: Expansion - "Global League" (목표: D+30)

- **목표:** 리텐션 및 충성도 강화.
- **기능:**
- **주간 명예의 전당:** 매주 일요일 자정 시즌 초기화 및 우승 소속사 박제.
- **응원 게시판:** 팬들끼리 단합할 수 있는 텍스트 게시판(방명록) 추가.

---

## 7. 제프 딘(Jeff Dean)을 위한 개발 요약 (Developer Brief)

1. **Concept Change:** Remove all "Stock" related UI. Use "Hearts", "Fire", "Trophies".
2. **Database Schema Update:**

- `score` (Integer) -> 유지
- `market_cap` (BigInt) -> 삭제
- `active_buffs` table: `type` colum에 'coffee_truck', 'stream_boost' 등으로 저장.

3. **UI Guideline:**

- **Colors:** Use bright, passionate colors (Red, Pink, Gold) instead of financial charts (Green/Red candles).
- **Animation:** Focus on "Bursting" effects (Like fireworks) when clicking.

4. **Critical Task:** Ensure `Upstash Redis` is correctly buffering clicks to prevent Supabase from crashing during "Chong-gong" (Mass attack) hours.

**Mason's Final Review:**
주식 컨셉을 제거함으로써 **진입 장벽은 낮아지고, 팬덤 문화와의 적합성(Fit)은 높아졌습니다.** 팬들은 "주식"보다 "내 가수의 순위"와 "서포트"에 훨씬 더 지갑을 잘 엽니다. 이 방향성이 수익화 측면에서도 더 안전하고 폭발적일 것입니다.

**System Updated. Ready to Code.**
